#!/bin/sh

set -e

. ~/doe/include/doe.global.variables
. ~/doe/include/doe.common.functions
. ${DOE_CFGDIR}/doe.conf

# if doe executed without any $arg => exec with default command
if [ $# -eq 0 ]
then
    eval "$0 ${default_command}"
    
else
    mod=$1
    shift

    case ${mod} in
	list-modules)
		list_modules
		;;
	version)
		echo ${DOE_VER} && exit 0
		;;
	${mod})
		call_module ${mod} $@
    esac
fi

exit 0















#case "${mod}" in
#	help) # Print this help
#		eval "${isNoFunctions}"
#		show_help "${BASH_SOURCE[0]}"
#		echo "\n\t\$mod = { $(list_modules)}"
#		;;
#	version) # Show version
#		eval "${isNoFunctions}"
#		show_version
#		;;
#	list-modules)
#		list_modules
#		;;
#	$mod) # Run module
#		call_module ${mod} $@ || eval "$0 help"
#		;;
#esac
